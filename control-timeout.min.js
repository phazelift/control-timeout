(function(){var t,i;i=require("types.js"),t=function(){function t(i){this.timeout={},this.running={},this.delay=Math.abs(i)||t.delay}return t.log=i.forceFunction("undefined"!=typeof console&&null!==console?console.log:void 0),t.delay=0,t.prototype.exists=function(t){return this.timeout.hasOwnProperty(t)},t.prototype.isRunning=function(t){return this.running.hasOwnProperty(t)},t.prototype.stopOne=function(t){return clearTimeout(this.running[t]),delete this.running[t],this},t.prototype.stop=function(t){if(t)this.stopOne(t);else for(t in this.running)this.stopOne(t);return this},t.prototype.setTimeout=function(t,i,n){return this.running[t]=setTimeout(function(n){return function(){return delete n.running[t],i()}}(this),n),this},t.prototype.run=function(t){var n,e;if(i.isString(t)&&this.exists(t)&&!this.isRunning(t))this.setTimeout(t,this.timeout[t].action,this.timeout[t].delay);else{n=this.timeout;for(t in n)e=n[t],this.isRunning(t)||this.setTimeout(t,e.action,e.delay)}return this},t.prototype.removeAll=function(t){return t&&this.stop(),this.timeout={},this},t.prototype.remove=function(n){return(n=i.forceString(n))?(this.stopOne(n),delete this.timeout[n]):t.log("cannot remove invalid or non-existing timeout!"),this},t.prototype.add=function(n,e,o){var r,s;return r=i.forceObject(n),i.forceString(n,r.id)?(s={action:i.forceFunction(e,r.action),delay:i.forceNumber(o,0)||i.forceNumber(r.delay,this.delay)},n=i.forceString(n)||r.id,this.exists(n)?t.log("cannot add timeout, id: "+n+" exists already!"):this.timeout[n]=s,this):(t.log("cannot add timeout, invalid or missing arguments!"),this)},t}(),module.exports=t}).call(this);